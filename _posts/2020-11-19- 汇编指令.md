---
layout:     post
title:      汇编CPU指令
subtitle:   
date:       2020-11-19
author:     北天
header-img: 
catalog: true
tags:
    - 汇编
---

# *CPU指令*

## 1 实例

示例程序: example.c

```C
    #include "stdio.h"
    int add_a_and_b(int a, int b) {
    return a + b;
    }

    int main() {
        return add_a_and_b(2, 3);
    }
```

使用gcc命令，将程序转成汇编语言

```bash
    gcc -S example.c
```

经过转化后的汇编文件，在简化之后，大致如下:

```bash
    _add_a_and_b:
   push   %ebx
   mov    %eax, [%esp+8] 
   mov    %ebx, [%esp+12]
   add    %eax, %ebx 
   pop    %ebx 
   ret  

    _main:
       push   3
       push   2
       call   _add_a_and_b 
       add    %esp, 8
       ret
```

可以看到，源程序的两个函数`add_a_and_b`和`main`对应两个标签`_add_a_and_b`和`_main`。每个标签里面就是该函数所转成的CPU运行流程。

每一行就是CPU执行的一次操作，它又分成两部分，以其中一行为例。

```bash
    push   %ebx
```

`push`是CPU指令，%ebx是指令用到的运算子，一个CPU指令可以有零个到多个运算子。

## 2 push指令

## 3 CPU

地址总线： 地址总线的宽度决定了CPU的寻址能力；
数据总线： 数据总线的宽度决定了CPU与其他器件进行数据传输时的一次数据传输量；
控制总线： 控制总线的宽度决定看CPU对系统其他器件的控制能力。 